{
"openapi":"3.0.0",
"info":{
    "title":"API de manpulação de produtos do estoque Service Desk",
    "description":"Essa API tem como objetivo a manipulação de produtos do estoque do Service Desk",
    "termsOfService":"https://localhost:3024/terms",
    "contact":{
        "email":"guilherme_meiring@estudante.sesisenai.org.br"
    },
    "version":"1.0.0"
},
"servers":[
    {
        "url":"http://localhost:3024",
        "description":"API para o estoque Service Desk"
    }
],
"paths":{
    "/user":{
        "post":{
            "summary":"Cadastro  de usuário",
            "description":"Essa rota é responsável pelo cadstro de um novo usuário",
            "tags":["Usuário"],
            "security":[{"bearerAuth":[]}],
            "requestBody":{
                "content":{
                    "aplication/json":{
                        "schema":{
                           "$ref":"#/components/schemas/User"
                        },
                        "examples":{
                            "user":{
                                "value":{
                                    "matricula":"JA1234-1",
                                    "name":"Bruna Brecailo",
                                    "email":"example@gmail.com",
                                    "password":"example123",
                                    "cpassword":"example123",
                                    "costCenter":"Service Desk",
                                    "permission":"ADM"
                                    
                                }
                            }
                        }
                        
                    }
                }
            },
            "responses":{
                "400":{
                    "description":"Request needs a token"
                },
                "404":{
                    "description":"Token invalid. Its necessary bearer + token"

                },
                "401": {
                    "description":"product already exists!"
                },
                "403":{
                    "description":"Invalid token"

                },
                "200":{
                    "description": "ok"
                    
                }
            }
        },
        "get":{
            "description": "Busca de todos usuários já cadastrados",
            "summary": "Essa rota é responsável por listar todos usuários em um array",
            "tags": ["Usuário"],
            "security":[{"bearerAuth":[]}],
            "parameters": [],
            "responses": {
                
                "400":{
                    "description":"Request needs a token"
                },
                "404":{
                    "description":"Token invalid. Its necessary bearer + token"

                },
                "403":{
                    "description":"Invalid token"

                },
                "200":{
                    "description": "Successful login",
                    "content": {
                        "application/json":{
                            "schema":{
                                "type":"array",
                                "items":{
                                    "$ref": "#/components/schemas/User"
                                }
                                
                            }
                        }
                    }
                }
            }


        }
    },
    "/login": {
        "post": {
            "description": "Login de usuários",
            "summary": "Essa rota é responsável por realizar o login de usuário e gerar o token",
            "tags": [ "Usuário"],

            "requestBody":{
                "content":{
                    "aplication/json":{
                        "schema":{
                            "type": "object",
                            "properties": {
                            
                                "matricula":{
                                    "type": "string",
                                    "example":"1234567",
                                    "description": "Matricula do usuário"
                                },
                                "password":{
                                    "type": "string",
                                    "example":"gui123",
                                    "description": "Senha do usuário"
                                }

                            },
                            "required": [
                                "matricula","password"
                            ]

                        }
                    }
                }
            },
            "responses": {
                "401": {
                    "description":"usuario não existe"
                },
                "200":{
                    "description": "Successful login",
                    "content": {
                        "application/json":{
                            "schema":{
                                "type":"array",
                                "items":{
                                    "$ref": "#/components/schemas/User"
                                }
                                
                            }
                        }
                    }
                }
                

                }
        
            }
        },
        "/user/{matricula}":{
            "get":{
                "description": "Busca de um usuário pela sua matrícula",
                "summary": "Essa rota é responsável por listar um único usuário pela sua matrícula",
                "tags": ["Usuário"],
                "security":[{"bearerAuth":[]}],
                "parameters": [{
                        "name":"matricula",
                        "in":"path",
                        "description": "usuário pela matricula",
                        "required": true
                    }
                ],
                "responses": {
                    "200":{
                        "description": "OK",
                        "content": {
                            "application/json":{
                                "schema":{
                                    "type":"array",
                                    "items":{
                                        "$ref": "#/components/schemas/User"
                                    }
                                    
                                }
                            }
                        }
                    },
                    "400":{
                        "description":"Request needs a token"
                    },
                    "404":{
                        "description":"Token invalid. Its necessary bearer + token"

                    },
                    "403":{
                        "description":"Invalid token"

                    }
                }
                
            }
           

        },
        "/user/patch/{matricula}":{
            "patch":{
                "description": "Delete o usuário pela sua matrícula",
                "summary": "Essa rota é responsável por deletar um único usuário pela sua matrícula",
                "tags": ["Usuário"],
                "security":[{"bearerAuth":[]}],
                "parameters": [{
                        "name":"matricula",
                        "in":"path",
                        "description": "usuário pela matricula",
                        "required": true
                    }
                ],
                "responses": {
                    "400":{
                        "description":"Request needs a token"
                    },
                    "200":{
                        "description": "OK"
                    },
                    "404":{
                        "description":"Token invalid. Its necessary bearer + token"

                    },
                    "403":{
                        "description":"Invalid token"

                    }

                }

            }
        },
        "user/put/{registration}":{
            "put":{
                "description":"Edita o usuário pela sua matrícula",
                "summary":"Essa rota é responsável por editar um único usuário pela sua matricula",
                "tags":["Usuário"],
                "security":[{"bearerAuth":[]}],
                "parameters":[{
                    "name":"matricula",
                    "in":"path",
                    "description":"usuário pela matricula",
                    "required":true
                }],
                "requestBody":{
                    "content":{
                        "aplication/json":{
                            "schema":{
                               "$ref":"#/components/schemas/User"
                            },
                            "examples":{
                                "user":{
                                    "value":{
                                        "matricula":"JA1234-1",
                                        "name":"Bruna Brecailo",
                                        "email":"example@gmail.com",
                                        "password":"example123",
                                        "cpassword":"example123",
                                        "costCenter":"Service Desk",
                                        "permission":"ADM"
                                        
                                    }
                                }
                            }
                            
                        }
                    }
                },
                "responses":{
                    "200":{
                        "description":"OK"
                    }
                }
                
            }
        }
},

"components":{
    "schemas":{
        "User":{
            "type":"object",
            "properties":{
                
                "matricula":{
                    "type":"string"
                },
                "name":{
                    "type": "string"

                },
                "email":{
                    "type":"string"

                },
                "password":{
                    "type":"string"

                },
                "cpassword":{
                    "type":"string"

                },
                "costCenter":{
                    "type":"string"

                },
                "permission":{
                    "type":"string"

                }
            }
        }
    },
    "securitySchemes":{
        "bearerAuth":{
            "type":"http",
            "scheme":"bearer",
            "bearerFormat":"JWT"
        }
    }
}

}